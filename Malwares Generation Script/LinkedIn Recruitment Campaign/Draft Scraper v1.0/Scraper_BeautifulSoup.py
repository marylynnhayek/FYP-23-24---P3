import os
from openai import OpenAI
from bs4 import BeautifulSoup
import requests
from urllib.request import Request, urlopen

def collect_applicant_info():
    headers = {
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36'
    }

    site = 'https://au.linkedin.com/in/marylynnelhayek'

    req = Request(site,headers=headers)
    page = urlopen(req)

    soup = BeautifulSoup(page, 'lxml')
    # name = soup.find('h1', class_='top-card-layout__title font-sans text-lg papabear:text-xl font-bold leading-open text-color-text mb-0')
    name = soup.find('h1', class_='top-card-layout__title font-sans text-lg papabear:text-xl font-bold leading-open text-color-text mb-0')
    
    print(name)

    # projects = soup.find_all('p', class_='show-more-less-text__text--less')

    Projects = soup.find_all('p', class_='show-more-less-text__text--less')
    for j in Projects:
        print(j.text)

    Skills = soup.find_all('span', class_ = 'visually-hidden')
    for i in Skills:
        print(i.text)

def main():
    collect_applicant_info()

if __name__ == "__main__":
    main()
